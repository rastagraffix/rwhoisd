.Dt RWHOISD 8
.Dd November 20 2023
.Os rastagraffix/rwhoisd
.Sh NAME
.Nm rwhoisd
.Nd rwhois protocol server
.Sh SYNOPSIS
.Nm rwhoisd 
.Op Fl rsdiVvq
.Op Fl c Ar file
.Sh DESCRIPTION
.Nm
serves data using the RWhois protocol.
The server will serve
formatted records based on a query, send referral and see-also
information, and change the server environment based on directives.
The server is typically run standalone server, although it can be
run from
.Sy inetd .
.Sh Options
Options given on the command line override equivalent options given in
the rwhoisd configuration files.
.Bl -tag width Ds
.It Fl c Ar file
The location of the main configuration file.
.It Fl d
Detach from the terminal and run as a daemon.
.It Fl i
Specify this flag whan running
.Nm
from
.Xr inetd 8 .
.It Fl q
Run quietly.
This disables log messages below the
.Sy alert
level.
.It Fl r
Become a root rwhois server.
No referrals to a higher level of the
tree are given if the server cannot find an answer to the query.
.It Fl s
.Xr chroot 2
the server on startup.
.It Fl v
Be verbose.
Log messages will be sent at the
.Sy info
level.
.It Fl V
Be very verbose.
Log messages will be sent at the
.Sy debug
level.
.Sh FILES
.Bl -tag -compact -width /usr/local/libexec/rwhoisd/
.It Pa /etc/rwhoisd/rwhoisd.conf
The main configuration file.
.It Pa /etc/rwhoisd/auth_area
The database schema definition.
.It Pa /etc/rwhoisd/directives
The file containing directive options.
.It Pa /etc/rwhoisd/root
The punt file.
.It Pa /etc/rwhoisd/x-dir
The file containing
.Sy X-
directive definitions.
.It Pa /tmp/register_spool/
The temporary directory used in the register process.
.It Pa /usr/local/libexec/rwhoisd/
The directory where
.Nm
looks for server-invoked binaries.
.It Pa /var/log/rwhoisd.log
The log file used when syslog is disabled.
.El
.Sh SEE ALSO
.Xr rwhois_indexer 8
.Sh BUGS
Please send bug reports for this (rastagraffix) version
to lyndon@orthanc.ca.
